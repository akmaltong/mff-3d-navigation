# MFF 3D Navigation

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è 3D –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –§–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –§–æ—Ä—É–º–∞. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –±–∞–∑–µ Three.js (WebGPU) —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º UI –Ω–∞ —á–∏—Å—Ç–æ–º JavaScript.

![Three.js](https://img.shields.io/badge/Three.js-0.182-black?logo=three.js)
![Vite](https://img.shields.io/badge/Vite-7.2-646CFF?logo=vite)
![Yuka](https://img.shields.io/badge/Yuka-NavMesh-green)

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üè¢ 3D –º–æ–¥–µ–ª—å –∑–¥–∞–Ω–∏—è —Ñ–æ—Ä—É–º–∞ —Å lightmap
- üó∫Ô∏è 19 –∑–æ–Ω —Å POI –º–∞—Ä–∫–µ—Ä–∞–º–∏ –Ω–∞ —Å—Ü–µ–Ω–µ
- üß≠ NavMesh pathfinding (Yuka) ‚Äî –º–∞—Ä—à—Ä—É—Ç—ã –æ–±—Ö–æ–¥—è—Ç —Å—Ç–µ–Ω—ã
- üìç –ö–ª–∏–∫ –ø–æ POI ‚Üí –∫–∞–º–µ—Ä–∞ –ª–µ—Ç–∏—Ç –∫ –∑–æ–Ω–µ
- üõ§Ô∏è –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–ª–æ–∂–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç¬ª ‚Üí –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏–Ω–∏—è –ø—É—Ç–∏
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ –¥–µ—Å–∫—Ç–æ–ø–∞
- üíæ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∑–æ–Ω –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤ –≤ localStorage
- üîß –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫: –∫–∞–º–µ—Ä–∞, gizmo –∑–¥–∞–Ω–∏—è, NavMesh, –æ—Å–≤–µ—â–µ–Ω–∏–µ

## –°—Ç–µ–∫

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| Three.js (WebGPU) | 3D —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ |
| Vite | –°–±–æ—Ä–∫–∞ –∏ dev-—Å–µ—Ä–≤–µ—Ä |
| GSAP | –ê–Ω–∏–º–∞—Ü–∏–∏ –∫–∞–º–µ—Ä—ã |
| Yuka | NavMesh pathfinding |
| Rapier3D | –§–∏–∑–∏–∫–∞ (WASM) |
| Vanilla JS | UI –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ |

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/<username>/mff-3d-navigation.git
cd mff-3d-navigation
npm install
```

## –ó–∞–ø—É—Å–∫

```bash
# Dev-—Å–µ—Ä–≤–µ—Ä —Å HMR
npm run dev

# –ü—Ä–æ–¥–∞–∫—à–Ω –±–∏–ª–¥
npm run build

# –ü—Ä–µ–≤—å—é –±–∏–ª–¥–∞
npm run preview
```

Dev-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ `http://localhost:5173/`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
sources/
‚îú‚îÄ‚îÄ Game/
‚îÇ   ‚îú‚îÄ‚îÄ UI/                    # –í—Å—è UI —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UIOverlay.js       # –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UIStore.js         # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (pub/sub)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BottomNav.js       # –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NavigationSystem.js # –ú–æ—Å—Ç UI ‚Üî 3D —Å—Ü–µ–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ZonesPanel.js      # –ü–∞–Ω–µ–ª—å –∑–æ–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventsPanel.js     # –ü–∞–Ω–µ–ª—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SettingsPanel.js   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∫–∞–º–µ—Ä–∞, gizmo, POI, NavMesh)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LightingPanel.js   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å–≤–µ—â–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data/              # –î–∞–Ω–Ω—ã–µ –∑–æ–Ω, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, POI
‚îÇ   ‚îú‚îÄ‚îÄ NavMeshSystem.js       # Pathfinding —Å —É—á—ë—Ç–æ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ SettingsStorage.js     # –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ POIManager.js          # 3D –º–∞—Ä–∫–µ—Ä—ã –∏ gizmo —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ FocusPointGizmo.js     # –ì–∏–∑–º–æ —Ç–æ—á–∫–∏ —Ñ–æ–∫—É—Å–∞ –∫–∞–º–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ View.js                # –ö–∞–º–µ—Ä–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ Game.js                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îî‚îÄ‚îÄ mff-ui.css             # –í—Å–µ —Å—Ç–∏–ª–∏ UI (responsive)
static/
‚îî‚îÄ‚îÄ Navmesh.glb                # –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–µ—Ç–∫–∞
```

## UI –ù–∞–≤–∏–≥–∞—Ü–∏—è

| –ö–Ω–æ–ø–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---|---|
| üè† –ì–ª–∞–≤–Ω–∞—è | –°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã |
| üó∫Ô∏è –ó–æ–Ω—ã | –°–ø–∏—Å–æ–∫ –∑–æ–Ω, –∫–ª–∏–∫ ‚Üí fly-to, –∫–Ω–æ–ø–∫–∞ ‚Üí –º–∞—Ä—à—Ä—É—Ç |
| üìÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, –º–∞—Ä—à—Ä—É—Ç –∫ –∑–æ–Ω–µ |
| üìç POI | –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ —Å—Ü–µ–Ω–µ |
| ‚òÄÔ∏è –°–≤–µ—Ç | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å–≤–µ—â–µ–Ω–∏—è |
| ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ | –ö–∞–º–µ—Ä–∞, Gizmo –∑–¥–∞–Ω–∏—è, NavMesh, POI —Ä–µ–¥–∞–∫—Ç–æ—Ä |

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- **–ú—ã—à—å (–∑–∞–∂–∞—Ç—å)** ‚Äî –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
- **–ö–æ–ª—ë—Å–∏–∫–æ** ‚Äî –∑—É–º
- **–ö–ª–∏–∫ –ø–æ –º–∞—Ä–∫–µ—Ä—É** ‚Äî –∫–∞–º–µ—Ä–∞ –ª–µ—Ç–∏—Ç –∫ –∑–æ–Ω–µ
- **–¢–∞—á (2 –ø–∞–ª—å—Ü–∞)** ‚Äî –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ + pinch-zoom

## NavMesh

–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–µ—Ç–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `static/Navmesh.glb`. –ü–æ–∑–∏—Ü–∏—è –∏ –º–∞—Å—à—Ç–∞–± –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí Gizmo ‚Üí —Å–µ–∫—Ü–∏—è NavMesh. Pathfinding –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º —Å–µ—Ç–∫–∏ (inverse matrix).

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
